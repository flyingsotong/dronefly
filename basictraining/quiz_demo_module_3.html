<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Demo (Module 3) - Dronefly.sg UABTO</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .correct-answer {
            background-color: #166534; /* Green-800 */
            border-color: #22c55e; /* Green-500 */
        }
        .incorrect-answer {
            background-color: #991b1b; /* Red-800 */
            border-color: #ef4444; /* Red-500 */
        }
        .disabled-option {
            pointer-events: none;
            opacity: 0.6;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-300">

    <!-- Header -->
    <header class="bg-gray-800/80 backdrop-blur-lg fixed top-0 w-full z-50 shadow-sm">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <a href="#" class="flex items-center"><svg class="h-16 w-auto" xmlns="http://www.w3.org/2000/svg" viewBox="24 0 318.75 113.999999" preserveAspectRatio="xMidYMid meet"><title>Dronefly.sg Logo</title><g style="fill:#ffffff;fill-opacity:1;"><g transform="matrix(1,0,0,1,24,19)"><g><g transform="translate(1.09736, 53.656314)"><path style="stroke:none" d="M 5.578125 -3.734375 C 2.765625 -6.804688 1.359375 -10.578125 1.359375 -15.046875 C 1.359375 -19.515625 2.765625 -23.296875 5.578125 -26.390625 C 8.398438 -29.484375 11.988281 -31.03125 16.34375 -31.03125 C 20.332031 -31.03125 23.617188 -29.773438 26.203125 -27.265625 L 26.203125 -50.53125 L 36.609375 -50.53125 L 36.609375 0 L 26.328125 0 L 26.328125 -3.40625 L 26.203125 -3.40625 C 23.617188 -0.550781 20.332031 0.875 16.34375 0.875 C 11.988281 0.875 8.398438 -0.660156 5.578125 -3.734375 Z M 14.421875 -20.15625 C 13.078125 -18.820312 12.40625 -17.113281 12.40625 -15.03125 C 12.40625 -12.957031 13.050781 -11.265625 14.34375 -9.953125 C 15.632812 -8.640625 17.335938 -7.984375 19.453125 -7.984375 C 21.484375 -7.984375 23.15625 -8.648438 24.46875 -9.984375 C 25.78125 -11.316406 26.4375 -13.003906 26.4375 -15.046875 C 26.4375 -17.117188 25.757812 -18.820312 24.40625 -20.15625 C 23.0625 -21.488281 21.410156 -22.15625 19.453125 -22.15625 C 17.453125 -22.15625 15.773438 -21.488281 14.421875 -20.15625 Z M 14.421875 -20.15625 " /></g></g><g><g transform="translate(35.702492, 53.656314)"><path style="stroke:none" d="M 3.53125 0 L 3.53125 -30.140625 L 13.921875 -30.140625 L 13.921875 -25.796875 L 14.046875 -25.796875 C 14.117188 -25.953125 14.242188 -26.144531 14.421875 -26.375 C 14.597656 -26.613281 14.976562 -27.023438 15.5625 -27.609375 C 16.15625 -28.203125 16.785156 -28.734375 17.453125 -29.203125 C 18.117188 -29.671875 18.976562 -30.09375 20.03125 -30.46875 C 21.09375 -30.84375 22.171875 -31.03125 23.265625 -31.03125 C 24.398438 -31.03125 25.515625 -30.875 26.609375 -30.5625 C 27.710938 -30.25 28.519531 -29.9375 29.03125 -29.625 L 29.859375 -29.140625 L 25.5 -20.328125 C 24.207031 -21.429688 22.40625 -21.984375 20.09375 -21.984375 C 18.84375 -21.984375 17.765625 -21.707031 16.859375 -21.15625 C 15.960938 -20.601562 15.328125 -19.9375 14.953125 -19.15625 C 14.578125 -18.375 14.3125 -17.707031 14.15625 -17.15625 C 14 -16.613281 13.921875 -16.179688 13.921875 -15.859375 L 13.921875 0 Z M 3.53125 0 " /></g></g><g><g transform="translate(90.998333, 53.656314)"><path style="stroke:none" d="M 3.53125 0 L 3.53125 -30.140625 L 13.921875 -30.140625 L 13.921875 -26.96875 L 14.046875 -26.96875 C 16.742188 -29.675781 19.625 -31.03125 22.6875 -31.03125 C 24.175781 -31.03125 25.65625 -30.832031 27.125 -30.4375 C 28.59375 -30.050781 30 -29.445312 31.34375 -28.625 C 32.695312 -27.800781 33.796875 -26.632812 34.640625 -25.125 C 35.484375 -23.613281 35.90625 -21.859375 35.90625 -19.859375 L 35.90625 0 L 25.5 0 L 25.5 -17.046875 C 25.5 -18.609375 25 -19.976562 24 -21.15625 C 23 -22.332031 21.695312 -22.921875 20.09375 -22.921875 C 18.53125 -22.921875 17.109375 -22.3125 15.828125 -21.09375 C 14.554688 -19.882812 13.921875 -18.535156 13.921875 -17.046875 L 13.921875 0 Z M 3.53125 0 " /></g></g><g><g transform="translate(124.310852, 53.656314)"><path style="stroke:none" d="M 34.03125 -13.640625 L 12.171875 -13.640625 C 12.171875 -11.515625 12.851562 -9.941406 14.21875 -8.921875 C 15.59375 -7.910156 17.082031 -7.40625 18.6875 -7.40625 C 20.375 -7.40625 21.707031 -7.628906 22.6875 -8.078125 C 23.664062 -8.523438 24.78125 -9.414062 26.03125 -10.75 L 33.5625 -7 C 30.425781 -1.75 25.210938 0.875 17.921875 0.875 C 13.378906 0.875 9.484375 -0.679688 6.234375 -3.796875 C 2.984375 -6.910156 1.359375 -10.660156 1.359375 -15.046875 C 1.359375 -19.429688 2.984375 -23.191406 6.234375 -26.328125 C 9.484375 -29.460938 13.378906 -31.03125 17.921875 -31.03125 C 22.703125 -31.03125 26.585938 -29.648438 29.578125 -26.890625 C 32.578125 -24.128906 34.078125 -20.179688 34.078125 -15.046875 C 34.078125 -14.335938 34.0625 -13.867188 34.03125 -13.640625 Z M 12.453125 -19.390625 L 23.921875 -19.390625 C 23.679688 -20.960938 23.0625 -22.164062 22.0625 -23 C 21.0625 -23.84375 19.78125 -24.265625 18.21875 -24.265625 C 16.488281 -24.265625 15.113281 -23.8125 14.09375 -22.90625 C 13.082031 -22.007812 12.535156 -20.835938 12.453125 -19.390625 Z M 12.453125 -19.390625 " /></g></g><g><g transform="translate(154.215575, 53.656314)"><path style="stroke:none" d="M 5.28125 -30.140625 L 5.28125 -36.546875 C 5.320312 -41.054688 6.378906 -44.660156 8.453125 -47.359375 C 10.535156 -50.066406 13.414062 -51.421875 17.09375 -51.421875 C 18.664062 -51.421875 20.164062 -51.191406 21.59375 -50.734375 C 23.019531 -50.285156 24.050781 -49.828125 24.6875 -49.359375 L 25.6875 -48.71875 L 22.03125 -41.375 C 21.09375 -41.914062 20.054688 -42.1875 18.921875 -42.1875 C 17.628906 -42.1875 16.765625 -41.742188 16.328125 -40.859375 C 15.898438 -39.984375 15.6875 -38.453125 15.6875 -36.265625 L 15.6875 -30.140625 L 22.625 -30.140625 L 22.625 -22.21875 L 15.6875 -22.21875 L 15.6875 0 L 5.28125 0 L 5.28125 -22.21875 L 0.9375 -22.21875 L 0.9375 -30.140625 Z M 5.28125 -30.140625 " /></g></g><g><g transform="translate(170.724141, 53.656314)"><path style="stroke:none" d="M 3.53125 0 L 3.53125 -50.53125 L 13.921875 -50.53125 L 13.921875 0 Z M 3.53125 0 " /></g></g><g><g transform="translate(182.649812, 53.656314)"><path style="stroke:none" d="M 26.390625 -30.140625 L 38.375 -30.140625 L 14.6875 15.28125 L 2.703125 15.28125 L 13.109375 -4.703125 L -1.171875 -30.140625 L 10.8125 -30.140625 L 19.21875 -14.6875 Z M 26.390625 -30.140625 " /></g></g><g><g transform="translate(214.31719, 53.656314)"><path style="stroke:none" d="M 10.21875 -12.578125 C 12.101562 -12.578125 13.703125 -11.921875 15.015625 -10.609375 C 16.328125 -9.296875 16.984375 -7.695312 16.984375 -5.8125 C 16.984375 -3.976562 16.328125 -2.40625 15.015625 -1.09375 C 13.703125 0.21875 12.101562 0.875 10.21875 0.875 C 8.382812 0.875 6.8125 0.21875 5.5 -1.09375 C 4.1875 -2.40625 3.53125 -3.976562 3.53125 -5.8125 C 3.53125 -7.695312 4.1875 -9.296875 5.5 -10.609375 C 6.8125 -11.921875 8.382812 -12.578125 10.21875 -12.578125 Z M 10.21875 -12.578125 " /></g></g><g><g transform="translate(229.298129, 53.656314)"><path style="stroke:none" d="M 16.625 -31.03125 C 18.351562 -31.03125 20.054688 -30.832031 21.734375 -30.4375 C 23.421875 -30.050781 24.675781 -29.660156 25.5 -29.265625 L 26.734375 -28.671875 L 23.328125 -21.859375 C 20.972656 -23.109375 18.738281 -23.734375 16.625 -23.734375 C 15.457031 -23.734375 14.628906 -23.609375 14.140625 -23.359375 C 13.648438 -23.109375 13.40625 -22.628906 13.40625 -21.921875 C 13.40625 -21.765625 13.421875 -21.609375 13.453125 -21.453125 C 13.492188 -21.296875 13.570312 -21.144531 13.6875 -21 C 13.8125 -20.863281 13.921875 -20.75 14.015625 -20.65625 C 14.109375 -20.5625 14.273438 -20.453125 14.515625 -20.328125 C 14.753906 -20.210938 14.941406 -20.125 15.078125 -20.0625 C 15.210938 -20.007812 15.4375 -19.921875 15.75 -19.796875 C 16.0625 -19.679688 16.296875 -19.59375 16.453125 -19.53125 C 16.609375 -19.476562 16.875 -19.390625 17.25 -19.265625 C 17.625 -19.148438 17.90625 -19.078125 18.09375 -19.046875 C 19.3125 -18.691406 20.367188 -18.296875 21.265625 -17.859375 C 22.171875 -17.429688 23.125 -16.84375 24.125 -16.09375 C 25.125 -15.351562 25.894531 -14.414062 26.4375 -13.28125 C 26.988281 -12.144531 27.265625 -10.851562 27.265625 -9.40625 C 27.265625 -2.550781 22.503906 0.875 12.984375 0.875 C 10.828125 0.875 8.78125 0.546875 6.84375 -0.109375 C 4.90625 -0.773438 3.503906 -1.441406 2.640625 -2.109375 L 1.359375 -3.171875 L 5.578125 -10.28125 C 5.890625 -10.007812 6.300781 -9.6875 6.8125 -9.3125 C 7.320312 -8.9375 8.242188 -8.425781 9.578125 -7.78125 C 10.910156 -7.132812 12.066406 -6.8125 13.046875 -6.8125 C 15.203125 -6.8125 16.28125 -7.535156 16.28125 -8.984375 C 16.28125 -9.648438 16.003906 -10.171875 15.453125 -10.546875 C 14.898438 -10.921875 13.96875 -11.34375 12.65625 -11.8125 C 11.351562 -12.28125 10.328125 -12.710938 9.578125 -13.109375 C 7.703125 -14.085938 6.210938 -15.191406 5.109375 -16.421875 C 4.015625 -17.660156 3.46875 -19.296875 3.46875 -21.328125 C 3.46875 -24.390625 4.648438 -26.769531 7.015625 -28.46875 C 9.390625 -30.175781 12.59375 -31.03125 16.625 -31.03125 Z M 16.625 -31.03125 " /></g></g><g><g transform="translate(252.681044, 53.656314)"><path style="stroke:none" d="M 2.171875 7.40625 L 10.703125 3.234375 C 12.265625 5.816406 14.984375 7.109375 18.859375 7.109375 C 20.660156 7.109375 22.332031 6.53125 23.875 5.375 C 25.425781 4.21875 26.203125 2.445312 26.203125 0.0625 L 26.203125 -2.171875 C 24.367188 -0.140625 21.082031 0.875 16.34375 0.875 C 11.988281 0.875 8.398438 -0.660156 5.578125 -3.734375 C 2.765625 -6.804688 1.359375 -10.578125 1.359375 -15.046875 C 1.359375 -19.515625 2.765625 -23.296875 5.578125 -26.390625 C 8.398438 -29.484375 11.988281 -31.03125 16.34375 -31.03125 C 20.21875 -31.03125 23.445312 -29.832031 26.03125 -27.4375 L 26.203125 -27.4375 L 26.203125 -30.140625 L 36.609375 -30.140625 L 36.609375 0.828125 C 36.609375 5.722656 34.984375 9.5 31.734375 12.15625 C 28.484375 14.820312 24.191406 16.15625 18.859375 16.15625 C 10.242188 16.15625 4.679688 13.238281 2.171875 7.40625 Z M 14.421875 -20.15625 C 13.078125 -18.820312 12.40625 -17.113281 12.40625 -15.03125 C 12.40625 -12.957031 13.050781 -11.265625 14.34375 -9.953125 C 15.632812 -8.640625 17.335938 -7.984375 19.453125 -7.984375 C 21.484375 -7.984375 23.15625 -8.648438 24.46875 -9.984375 C 25.78125 -11.316406 26.4375 -13.003906 26.4375 -15.046875 C 26.4375 -17.117188 25.757812 -18.820312 24.40625 -20.15625 C 23.0625 -21.488281 21.410156 -22.15625 19.453125 -22.15625 C 17.453125 -22.15625 15.773438 -21.488281 14.421875 -20.15625 Z M 14.421875 -20.15625 " /></g></g></g><path style=" stroke:none;fill-rule:nonzero;fill:#ffffff;fill-opacity:1;" d="M 102.03125 54.558594 C 100.835938 54.558594 99.871094 55.53125 99.871094 56.730469 C 99.871094 57.929688 100.835938 58.902344 102.03125 58.902344 C 103.222656 58.902344 104.191406 57.929688 104.191406 56.730469 C 104.191406 55.53125 103.222656 54.558594 102.03125 54.558594 " /><g><path style=" stroke:none;fill-rule:nonzero;fill:#ffffff;fill-opacity:1;" d="M 110.21875 64.96875 C 110.023438 65.167969 109.761719 65.273438 109.492188 65.273438 C 109.378906 65.273438 109.265625 65.253906 109.15625 65.214844 L 98.679688 61.648438 C 97.953125 61.402344 97.371094 60.820312 97.128906 60.089844 L 93.589844 49.550781 C 93.460938 49.175781 93.558594 48.769531 93.839844 48.488281 C 94.121094 48.210938 94.527344 48.117188 94.902344 48.242188 L 105.378906 51.808594 C 106.105469 52.054688 106.6875 52.640625 106.933594 53.367188 L 110.472656 63.90625 C 110.597656 64.285156 110.5 64.691406 110.21875 64.96875 Z M 102.03125 40.339844 C 93.035156 40.339844 85.714844 47.691406 85.714844 56.730469 C 85.714844 65.765625 93.035156 73.117188 102.03125 73.117188 C 111.027344 73.117188 118.347656 65.765625 118.347656 56.730469 C 118.347656 47.691406 111.027344 40.339844 102.03125 40.339844 " /></g></g></a>
                </div>
                <div class="hidden md:flex items-center">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Dashboard</a>
                        <a href="#" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">My Certificate</a>
                        <a href="#" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Logout</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="pt-16">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8" id="quiz-container">
            <div class="bg-gray-800 rounded-2xl shadow-lg p-8">
                <h1 class="text-2xl font-bold tracking-tight text-white text-center">Module 3 Quiz: UAS Safety & Operations</h1>
                
                <!-- Progress Tracker -->
                <div class="mt-6">
                    <div class="flex justify-between mb-1">
                        <span class="text-base font-medium text-indigo-300">Progress</span>
                        <span id="progress-text" class="text-sm font-medium text-gray-400">Correct Answers: 0 of 20</span>
                    </div>
                    <div class="w-full bg-gray-700 rounded-full h-2.5">
                        <div id="progress-bar" class="bg-indigo-600 h-2.5 rounded-full" style="width: 0%"></div>
                    </div>
                </div>

                <hr class="my-8 border-gray-700">

                <!-- Quiz Question Area -->
                <div id="question-area">
                    <p class="text-lg font-semibold text-gray-200" id="question-number">Question:</p>
                    <h2 class="mt-2 text-xl font-bold text-white" id="question-text">Loading question...</h2>
                    
                    <fieldset class="mt-6 space-y-4" id="answer-options">
                        <!-- Options will be injected by JavaScript -->
                    </fieldset>
                </div>

                <!-- Submit Button -->
                <div class="mt-8 text-right">
                    <button id="next-button" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-lg transition-colors hidden">
                        Next Question
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Results Screen -->
        <div id="results-container" class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 text-center hidden">
             <div class="bg-gray-800 rounded-2xl shadow-lg p-8">
                <h1 class="text-3xl font-bold tracking-tight text-white">Quiz Complete!</h1>
                <p class="mt-4 text-lg text-gray-400" id="results-message"></p>
                <div class="mt-8">
                     <button id="certificate-button" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg transition-colors">
                        Proceed to Certificate
                    </button>
                </div>
            </div>
        </div>

    </main>

<script>
    const quizData = [
        { question: "What is Aeronautical Decision-Making (ADM)?", answers: [ { text: "A flight maneuver for avoiding obstacles.", correct: false }, { text: "A systematic mental process for determining the best course of action in a given set of circumstances.", correct: true }, { text: "A pre-flight checklist for inspecting the drone's hardware.", correct: false }, { text: "A type of flight control software.", correct: false } ] },
        { question: "A pilot who says, \"The rules don't apply to me, I know what I'm doing,\" is exhibiting which hazardous attitude?", answers: [ { text: "Macho.", correct: false }, { text: "Invulnerability.", correct: false }, { text: "Anti-authority.", correct: true }, { text: "Resignation.", correct: false } ] },
        { question: "What is the correct antidote for the \"Impulsivity\" hazardous attitude (\"Do it quickly\")?", answers: [ { text: "To remember that rules are in place for a reason.", correct: false }, { text: "To acknowledge that it could happen to you.", correct: false }, { text: "To slow down, think first, and consider the consequences.", correct: true }, { text: "To remember that you are not helpless.", correct: false } ] },
        { question: "The \"IMSAFE\" checklist is a tool for what purpose?", answers: [ { text: "Assessing the airworthiness of the drone.", correct: false }, { text: "Conducting a pre-flight risk assessment of the operational area.", correct: false }, { text: "Performing a personal pre-flight self-assessment of the pilot's fitness to fly.", correct: true }, { text: "Verifying that all permits and licenses are valid.", correct: false } ] },
        { question: "In the IMSAFE checklist, what does the 'S' stand for?", answers: [ { text: "Sickness.", correct: false }, { text: "Safety.", correct: false }, { text: "Stress.", correct: true }, { text: "Sunlight.", correct: false } ] },
        { question: "Why are polarized sunglasses not recommended for remote pilots?", answers: [ { text: "They do not offer sufficient UV protection.", correct: false }, { text: "They can interfere with the visibility of digital displays and mask the glare from other aircraft.", correct: true }, { text: "They are too dark for most flying conditions.", correct: false }, { text: "They can cause visual illusions.", correct: false } ] },
        { question: "What is the most effective way to counteract spatial disorientation caused by visual illusions?", answers: [ { text: "To trust your own sensory perceptions.", correct: false }, { text: "To fly closer to the ground to get a better reference.", correct: false }, { text: "To trust the aircraft's instruments and flight telemetry.", correct: true }, { text: "To focus on a single point on the horizon.", correct: false } ] },
        { question: "A pilot staring at a single light against a dark background might perceive it to move. What is this illusion called?", answers: [ { text: "False Horizon.", correct: false }, { text: "Coriolis.", correct: false }, { text: "Autokinesis.", correct: true }, { text: "Inversion.", correct: false } ] },
        { question: "What is the primary purpose of Crew Resource Management (CRM)?", answers: [ { text: "To ensure all equipment is properly maintained.", correct: false }, { text: "To optimize crew performance and safety through effective communication and teamwork.", correct: true }, { text: "To manage the flight schedule for the crew.", correct: false }, { text: "To assign blame after an incident occurs.", correct: false } ] },
        { question: "What is the recommended technique for visually scanning the sky for other aircraft?", answers: [ { text: "A continuous, sweeping motion from side to side.", correct: false }, { text: "Focusing only on the area directly in front of the drone.", correct: false }, { text: "The \"block\" system, dividing the sky into 10-degree segments and scanning each for at least one second.", correct: true }, { text: "Relying solely on the drone's camera feed.", correct: false } ] },
        { question: "What is the first step in the operational risk management process?", answers: [ { text: "Assess Risks.", correct: false }, { text: "Implement Controls.", correct: false }, { text: "Identify Hazards.", correct: true }, { text: "Make Control Decisions.", correct: false } ] },
        { question: "In risk management, what is a 'hazard'?", answers: [ { text: "The likelihood that an accident will occur.", correct: false }, { text: "The severity of a potential accident.", correct: false }, { text: "Any real or potential condition that can cause injury, damage, or loss.", correct: true }, { text: "A specific flight maneuver.", correct: false } ] },
        { question: "A risk assessment matrix is used to determine the level of risk by plotting what two factors against each other?", answers: [ { text: "Altitude and Speed.", correct: false }, { text: "Likelihood and Severity.", correct: true }, { text: "Pilot Experience and Drone Weight.", correct: false }, { text: "Weather and Location.", correct: false } ] },
        { question: "If a risk is assessed as \"High\" on the matrix, what is the appropriate course of action?", answers: [ { text: "Proceed with the flight but be extra careful.", correct: false }, { text: "Proceed with the flight but notify a crew member.", correct: false }, { text: "Operations must not proceed until the risk is mitigated to an acceptable level.", correct: true }, { text: "The flight can proceed as long as insurance is in place.", correct: false } ] },
        { question: "Canceling a flight due to forecasted high winds is an example of which risk mitigation strategy?", answers: [ { text: "Risk Reduction.", correct: false }, { text: "Risk Transfer.", correct: false }, { text: "Risk Avoidance.", correct: true }, { text: "Risk Acceptance.", correct: false } ] },
        { question: "Using a Visual Observer (VO) to help scan for obstacles is an example of which risk mitigation strategy?", answers: [ { text: "Risk Reduction.", correct: true }, { text: "Risk Transfer.", correct: false }, { text: "Risk Avoidance.", correct: false }, { text: "Risk Acceptance.", correct: false } ] },
        { question: "According to the core principles of risk management, when is it acceptable to accept a risk?", answers: [ { text: "When the pilot is highly experienced.", correct: false }, { text: "When the operation is for a commercial purpose.", correct: false }, { text: "When the benefits of the flight outweigh the costs of the risk.", correct: true }, { text: "Never; all risk must be eliminated.", correct: false } ] },
        { question: "High winds, extreme temperatures, and poor visibility are all examples of what type of hazard?", answers: [ { text: "Technical.", correct: false }, { text: "Human.", correct: false }, { text: "Operational.", correct: false }, { text: "Environmental.", correct: true } ] },
        { question: "A loss of the communication link or a GPS signal failure would be classified as what type of hazard?", answers: [ { text: "Technical.", correct: true }, { text: "Human.", correct: false }, { text: "Operational.", correct: false }, { text: "Environmental.", correct: false } ] },
        { question: "The responsibility to \"assess the operating environment, considering risks to persons and property\" before every flight belongs to whom?", answers: [ { text: "The Visual Observer (VO).", correct: false }, { text: "The aircraft manufacturer.", correct: false }, { text: "The Remote Pilot in Command (RPIC).", correct: true }, { text: "The national aviation authority (e.g., CAAS).", correct: false } ] },
        { question: "What is the most critical phase of the operational lifecycle for identifying and mitigating risks?", answers: [ { text: "In-Flight.", correct: false }, { text: "Post-Flight.", correct: false }, { text: "Pre-Flight.", correct: true }, { text: "Maintenance.", correct: false } ] },
        { question: "What does the \"Sterile Cockpit Principle\" dictate?", answers: [ { text: "The drone's interior must be cleaned before every flight.", correct: false }, { text: "During critical phases of flight like takeoff and landing, all non-essential conversation and activities should cease.", correct: true }, { text: "Only the RPIC is allowed to speak during the entire operation.", correct: false }, { text: "All electronic devices must be turned off near the control station.", correct: false } ] },
        { question: "What is the correct shutdown sequence after landing a drone?", answers: [ { text: "Power down the remote controller first, then the aircraft.", correct: false }, { text: "Power down the aircraft first, then the remote controller.", correct: true }, { text: "Power down both simultaneously.", correct: false }, { text: "Remove the battery from the aircraft while it is still powered on.", correct: false } ] },
        { question: "During a pre-flight crew briefing, what should the RPIC cover?", answers: [ { text: "Only the mission's objective.", correct: false }, { text: "The weather forecast for the next day.", correct: false }, { text: "Mission objectives, flight paths, hazards, emergency procedures, and roles of each crew member.", correct: true }, { text: "The cost of the operation.", correct: false } ] },
        { question: "What is the purpose of a post-flight inspection?", answers: [ { text: "To prepare the drone for long-term storage.", correct: false }, { text: "To identify any damage that may have occurred during the flight.", correct: true }, { text: "To charge the batteries.", correct: false }, { text: "To update the drone's firmware.", correct: false } ] },
        { question: "When using the clock system for communication, \"Manned aircraft, 9 o'clock low\" means the aircraft is where?", answers: [ { text: "Directly in front of the pilot and below them.", correct: false }, { text: "To the pilot's left and below them.", correct: true }, { text: "To the pilot's right and above them.", correct: false }, { text: "Directly behind the pilot.", correct: false } ] },
        { question: "When is it most important to perform a compass calibration?", answers: [ { text: "After every flight.", correct: false }, { text: "If the aircraft is in a new location or has been near magnetic interference.", correct: true }, { text: "Only when the battery is below 50%.", correct: false }, { text: "Once a year.", correct: false } ] },
        { question: "Before a flight, the pilot must verify that the drone's Home Point has been correctly recorded. Why is this critical?", answers: [ { text: "It ensures the camera is pointing in the right direction.", correct: false }, { text: "It is the location the drone will attempt to return to during a Return-to-Home (RTH) failsafe.", correct: true }, { text: "It logs the starting point for billing purposes.", correct: false }, { text: "It is required to activate the propellers.", correct: false } ] },
        { question: "A pilot must check for TFRs and NOTAMs during the pre-flight planning phase. What are these?", answers: [ { text: "Types of weather forecasts.", correct: false }, { text: "Official notices that provide information on temporary flight restrictions and potential hazards in the airspace.", correct: true }, { text: "Drone registration documents.", correct: false }, { text: "Software update notifications.", correct: false } ] },
        { question: "Why should a pilot physically walk the operational area as part of the site assessment?", answers: [ { text: "To get exercise before the flight.", correct: false }, { text: "To identify hazards like new construction or power lines that may not be on maps.", correct: true }, { text: "To meet any people who may be in the area.", correct: false }, { text: "To find the best spot for taking photos.", correct: false } ] },
        { question: "Who bears the ultimate responsibility for ensuring a small UAS is in a condition for safe operation?", answers: [ { text: "The manufacturer.", correct: false }, { text: "The national aviation authority (e.g., CAAS).", correct: false }, { text: "The Remote Pilot in Command (RPIC).", correct: true }, { text: "The person who sold the drone.", correct: false } ] },
        { question: "What is a common recommendation for replacing drone propellers?", answers: [ { text: "Only when they are visibly broken in half.", correct: false }, { text: "After a specific number of flight hours (e.g., 200) or if any nicks, chips, or warping are found.", correct: true }, { text: "Once every two years.", correct: false }, { text: "When they become dirty.", correct: false } ] },
        { question: "What is the correct procedure for handling a LiPo battery after a flight?", answers: [ { text: "Immediately place it on the charger to ensure it's ready for the next flight.", correct: false }, { text: "Store it in a hot car to keep it warm.", correct: false }, { text: "Allow it to cool to ambient temperature before recharging.", correct: true }, { text: "Fully discharge it before storing.", correct: false } ] },
        { question: "For long-term storage (more than a few days), what is the recommended charge level for a LiPo battery?", answers: [ { text: "0-10%.", correct: false }, { text: "40-60%.", correct: true }, { text: "90-100%.", correct: false }, { text: "The charge level does not matter for storage.", correct: false } ] },
        { question: "What is the most significant visual indicator that a LiPo battery is damaged and must be retired immediately?", answers: [ { text: "Scratches on the outer casing.", correct: false }, { text: "Swelling or \"puffing\" of the battery pack.", correct: true }, { text: "The battery's label is peeling off.", correct: false }, { text: "The battery is not fully charged after 10 minutes.", correct: false } ] },
        { question: "Why is it important to read the release notes before performing a firmware update?", answers: [ { text: "To see if the update includes new color themes for the app.", correct: false }, { text: "To understand the changes, bug fixes, and new features being implemented.", correct: true }, { text: "To find the discount code for your next purchase.", correct: false }, { text: "The release notes are for developers only and do not need to be read.", correct: false } ] },
        { question: "What is the definition of an 'airworthy' aircraft?", answers: [ { text: "It is less than one year old.", correct: false }, { text: "It conforms to its type design and is in a condition for safe operation.", correct: true }, { text: "It has never been crashed.", correct: false }, { text: "It has the latest firmware installed.", correct: false } ] },
        { question: "What is a 'latent failure' in the context of UAS maintenance?", answers: [ { text: "A failure that occurs during flight.", correct: false }, { text: "A hidden defect, like a hairline crack in a propeller, that could become an active failure during flight.", correct: true }, { text: "A software bug that has not been patched yet.", correct: false }, { text: "A failure caused by pilot error.", correct: false } ] },
        { question: "What is the first and most important priority in any in-flight emergency, according to the \"Aviate, Navigate, Communicate\" mantra?", answers: [ { text: "Communicate: Immediately call for help.", correct: false }, { text: "Navigate: Determine where to land.", correct: false }, { text: "Aviate: Maintain control of the aircraft.", correct: true }, { text: "Activate the Return-to-Home function.", correct: false } ] },
        { question: "If a drone loses its GPS signal, what is the most likely immediate consequence?", answers: [ { text: "The drone will automatically land.", correct: false }, { text: "The drone will switch to a non-GPS mode like ATTI and begin to drift with the wind.", correct: true }, { text: "The drone will lose all power and fall.", correct: false }, { text: "The drone will return to its home point.", correct: false } ] },
        { question: "What should a pilot do upon receiving the first 'Low Battery Warning'?", answers: [ { text: "Continue the mission until the 'Critically Low Battery' warning appears.", correct: false }, { text: "Attempt to fly higher to get a better signal.", correct: false }, { text: "Treat it as a directive to terminate the mission and land the aircraft immediately.", correct: true }, { text: "Acknowledge the warning and continue flying for another 5-10 minutes.", correct: false } ] },
        { question: "During a 'Critically Low Battery' event, the aircraft will initiate a forced landing. What control does the pilot typically retain?", answers: [ { text: "Full control over all functions.", correct: false }, { text: "Only the ability to take photos.", correct: false }, { text: "Some directional control (pitch and roll) to guide the descent away from hazards.", correct: true }, { text: "No control; the aircraft is completely unresponsive.", correct: false } ] },
        { question: "What is a 'flyaway' event?", answers: [ { text: "A planned flight that goes beyond the visual line of sight.", correct: false }, { text: "An uncontrolled flight where the aircraft does not respond to pilot inputs or its failsafe procedures.", correct: true }, { text: "The normal operation of the Return-to-Home function.", correct: false }, { text: "A flight that lasts longer than the battery's advertised flight time.", correct: false } ] },
        { question: "What is the first action a pilot should take in a flyaway event?", answers: [ { text: "Immediately turn off the remote controller.", correct: false }, { text: "Announce the emergency to all crew members and note the last known location, altitude, and direction.", correct: true }, { text: "Try to chase the drone in a car.", correct: false }, { text: "Wait for the battery to run out.", correct: false } ] },
        { question: "If a pilot declares an in-flight emergency, what are they permitted to do?", answers: [ { text: "Nothing; they must follow all rules at all times.", correct: false }, { text: "Deviate from any Part 107 rule to the extent necessary to respond to the emergency.", correct: true }, { text: "Only land in designated emergency landing zones.", correct: false }, { text: "Exceed the 400-foot altitude limit, but no other rules.", correct: false } ] },
        { question: "When a person builds their own drone from parts, who is ultimately responsible for its airworthiness?", answers: [ { text: "The manufacturer of the flight controller.", correct: false }, { text: "The person who wrote the flight control software (e.g., Betaflight).", correct: false }, { text: "The builder/operator of the drone.", correct: true }, { text: "The national aviation authority.", correct: false } ] },
        { question: "What is a \"smoke stopper\" used for in the context of self-built drones?", answers: [ { text: "A device to create smoke for aerial displays.", correct: false }, { text: "A current-limiting device used during the initial power-up on the workbench to prevent burning out components.", correct: true }, { text: "A type of fire extinguisher for LiPo batteries.", correct: false }, { text: "A filter for the drone's camera.", correct: false } ] },
        { question: "What is the primary difference between the FAA's Part 107 rules and EASA's 'Open' category framework?", answers: [ { text: "The FAA does not require drone registration.", correct: false }, { text: "EASA's framework is more explicitly risk-based, with subcategories (A1, A2, A3) that determine how close you can fly to people based on the drone's class.", correct: true }, { text: "The FAA has a higher maximum altitude limit.", correct: false }, { text: "EASA does not have rules for commercial operations.", correct: false } ] },
        { question: "What is a common maximum altitude for low-risk drone operations found in most international regulatory frameworks (FAA, EASA, CASA, etc.)?", answers: [ { text: "200 feet / 60 meters.", correct: false }, { text: "400 feet / 120 meters.", correct: true }, { text: "1000 feet / 300 meters.", correct: false }, { text: "There is no common standard.", correct: false } ] },
        { question: "What is a key safety principle for a self-built UAS?", answers: [ { text: "It should be considered an experimental aircraft until it has undergone rigorous, progressive testing.", correct: true }, { text: "It does not need to be registered as long as it is for hobby use.", correct: false }, { text: "Using the cheapest available parts is acceptable to save costs.", correct: false }, { text: "It can be flown over people immediately after the first successful hover test.", correct: false } ] }
    ];

    const quizContainer = document.getElementById('quiz-container');
    const questionArea = document.getElementById('question-area');
    const questionNumberEl = document.getElementById('question-number');
    const questionTextEl = document.getElementById('question-text');
    const answerOptionsEl = document.getElementById('answer-options');
    const nextButton = document.getElementById('next-button');
    
    const progressTextEl = document.getElementById('progress-text');
    const progressBarEl = document.getElementById('progress-bar');
    
    const resultsContainer = document.getElementById('results-container');
    const resultsMessageEl = document.getElementById('results-message');

    let shuffledQuestions, currentQuestionIndex;
    let correctAnswersCount = 0;
    const totalQuestionsToPass = 20;

    function startQuiz() {
        shuffledQuestions = quizData.sort(() => Math.random() - 0.5);
        currentQuestionIndex = 0;
        correctAnswersCount = 0;
        quizContainer.classList.remove('hidden');
        resultsContainer.classList.add('hidden');
        updateProgress();
        loadQuestion();
    }

    function loadQuestion() {
        resetState();
        const currentQuestion = shuffledQuestions[currentQuestionIndex];
        questionNumberEl.innerText = `Question ${currentQuestionIndex + 1}:`;
        questionTextEl.innerText = currentQuestion.question;
        
        currentQuestion.answers.forEach(answer => {
            const div = document.createElement('div');
            div.classList.add('relative', 'flex', 'items-start', 'p-4', 'rounded-lg', 'border', 'border-gray-700', 'hover:border-indigo-500', 'transition-colors', 'cursor-pointer');
            
            const input = document.createElement('input');
            input.type = 'radio';
            input.name = 'quiz-question';
            input.classList.add('focus:ring-indigo-500', 'h-4', 'w-4', 'text-indigo-600', 'border-gray-600', 'bg-gray-900');
            
            const label = document.createElement('label');
            label.innerText = answer.text;
            label.classList.add('font-medium', 'text-gray-300', 'ml-3', 'w-full', 'cursor-pointer');
            
            div.appendChild(input);
            div.appendChild(label);

            div.addEventListener('click', () => {
                document.querySelectorAll('input[name="quiz-question"]').forEach(radio => radio.checked = false);
                input.checked = true;
                selectAnswer(div, answer.correct);
            });
            
            if (answer.correct) {
                div.dataset.correct = true;
            }

            answerOptionsEl.appendChild(div);
        });
    }

    function resetState() {
        nextButton.classList.add('hidden');
        while (answerOptionsEl.firstChild) {
            answerOptionsEl.removeChild(answerOptionsEl.firstChild);
        }
    }

    function selectAnswer(selectedDiv, isCorrect) {
        Array.from(answerOptionsEl.children).forEach(child => {
            child.classList.add('disabled-option');
            if (child.dataset.correct) {
                child.classList.add('correct-answer');
            }
        });

        if (isCorrect) {
            correctAnswersCount++;
            selectedDiv.classList.add('correct-answer');
        } else {
            selectedDiv.classList.add('incorrect-answer');
        }

        updateProgress();
        nextButton.classList.remove('hidden');
    }
    
    function updateProgress(){
        progressTextEl.innerText = `Correct Answers: ${correctAnswersCount} of ${totalQuestionsToPass}`;
        const progressPercentage = (correctAnswersCount / totalQuestionsToPass) * 100;
        progressBarEl.style.width = `${progressPercentage}%`;
    }

    function showResults() {
        quizContainer.classList.add('hidden');
        resultsContainer.classList.remove('hidden');
        if(correctAnswersCount >= totalQuestionsToPass){
             resultsMessageEl.innerText = `You answered ${correctAnswersCount} questions correctly and have passed the assessment!`;
        } else {
             resultsMessageEl.innerText = `You answered ${correctAnswersCount} out of 20 questions correctly. Please try again to pass the assessment.`;
             document.getElementById('certificate-button').innerText = "Retry Quiz";
        }
    }

    nextButton.addEventListener('click', () => {
        currentQuestionIndex++;
        if (correctAnswersCount < totalQuestionsToPass) {
            loadQuestion();
        } else {
            showResults();
        }
    });

    document.getElementById('certificate-button').addEventListener('click', () => {
        if(correctAnswersCount >= totalQuestionsToPass) {
            // In a real app, this would link to the certificate page.
            alert("Redirecting to your certificate...");
        } else {
            startQuiz();
        }
    });

    // Start the quiz on page load
    startQuiz();
</script>

    <div id="footer-container"></div>

    <script src="../footer-loader.js"></script>
</body>
</html>
